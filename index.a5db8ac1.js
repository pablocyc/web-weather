import{initializeApp as h}from"https://www.gstatic.com/firebasejs/9.6.3/firebase-app.js";import{getDatabase as b,ref as i,onValue as L,update as f}from"https://www.gstatic.com/firebasejs/9.6.3/firebase-database.js";const y=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=t(e);fetch(e.href,n)}};y();const a={firebasePath:"station-home",firebaseConfig:{apiKey:"AIzaSyCTVRTgXZTk5WjAMGRtxvFog0R0nElrSUk",authDomain:"weather-station-8e973.firebaseapp.com",databaseURL:"https://weather-station-8e973-default-rtdb.firebaseio.com",projectId:"weather-station-8e973",storageBucket:"weather-station-8e973.appspot.com",messagingSenderId:"270171452446",appId:"1:270171452446:web:1f42aab361155f98336a0f",measurementId:"G-3SLBPRH8D3"}},T=document.getElementById("toggle-theme"),c=document.getElementById("toggle-icon"),g=document.getElementById("toggle-text");h(a.firebaseConfig);const m=b(),I=document.getElementById("tempValue"),l=document.getElementById("tempMin"),u=document.getElementById("tempMax"),d=document.getElementById("tempClockMin"),M=document.getElementById("tempClockMax"),w=i(m,a.firebasePath);L(w,p=>{const o=new Date,t=p.val();if(I.innerHTML=t.temperature.value+"<span>\xB0</span>",d.innerHTML==="00:00"&&(d.innerHTML=t.temperature.clockMin,M.innerHTML=t.temperature.clockMax,l.innerHTML=t.temperature.min,u.innerHTML=t.temperature.max),l.innerHTML!==t.temperature.min){const r=o.getHours()+":"+o.getMinutes();d.innerHTML=r,f(i(m,a.firebasePath+"/temperature"),{clockMin:r})}if(u.innerHTML!==t.temperature.max){const r=o.getHours()+":"+o.getMinutes();M.innerHTML=r,f(i(m,a.firebasePath+"/temperature"),{clockMax:r})}l.innerHTML=t.temperature.min,u.innerHTML=t.temperature.max});T.addEventListener("click",()=>{document.body.classList.toggle("dark"),c.src.includes("moon.svg")?(c.src="assets/sun.svg",g.textContent="Light Mode"):(c.src="assets/moon.svg",g.textContent="Dark Mode")});
