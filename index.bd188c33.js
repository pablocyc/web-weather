import{initializeApp as T}from"https://www.gstatic.com/firebasejs/9.6.3/firebase-app.js";import{getDatabase as b,ref as a,onValue as x,update as m}from"https://www.gstatic.com/firebasejs/9.6.3/firebase-database.js";const k=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(t){if(t.ep)return;t.ep=!0;const i=e(t);fetch(t.href,i)}};k();const r={firebasePath:"station-home",firebaseConfig:{apiKey:"AIzaSyCTVRTgXZTk5WjAMGRtxvFog0R0nElrSUk",authDomain:"weather-station-8e973.firebaseapp.com",databaseURL:"https://weather-station-8e973-default-rtdb.firebaseio.com",projectId:"weather-station-8e973",storageBucket:"weather-station-8e973.appspot.com",messagingSenderId:"270171452446",appId:"1:270171452446:web:1f42aab361155f98336a0f",measurementId:"G-3SLBPRH8D3"}},I=document.getElementById("toggle-theme"),u=document.getElementById("toggle-icon"),h=document.getElementById("toggle-text");T(r.firebaseConfig);const s=b(),E=document.getElementById("tempValue"),l=document.getElementById("tempMin"),d=document.getElementById("tempMax"),g=document.getElementById("tempClockMin"),y=document.getElementById("tempClockMax"),w=document.getElementById("humValue"),p=document.getElementById("humMin"),f=document.getElementById("humMax"),L=document.getElementById("humClockMin"),H=document.getElementById("humClockMax"),B=a(s,r.firebasePath);x(B,M=>{const o=new Date,e=M.val();if(E.innerHTML=e.temperature.value+"<span>\xB0</span>",w.innerHTML=e.humidity.value+"<span>%</span>",g.innerHTML==="00:00"&&(g.innerHTML=e.temperature.clockMin,y.innerHTML=e.temperature.clockMax,l.innerHTML=e.temperature.min,d.innerHTML=e.temperature.max,L.innerHTML=e.humidity.clockMin,H.innerHTML=e.humidity.clockMax,p.innerHTML=e.humidity.min,f.innerHTML=e.humidity.max),l.innerHTML!==e.temperature.min){const n=o.getHours()+":"+o.getMinutes();g.innerHTML=n,m(a(s,r.firebasePath+"/temperature"),{clockMin:n})}if(p.innerHTML!==e.humidity.min){const n=o.getHours()+":"+o.getMinutes();L.innerHTML=n,m(a(s,r.firebasePath+"/humidity"),{clockMin:n})}if(d.innerHTML!==e.temperature.max){const n=o.getHours()+":"+o.getMinutes();y.innerHTML=n,m(a(s,r.firebasePath+"/temperature"),{clockMax:n})}if(f.innerHTML!==e.humidity.max){const n=o.getHours()+":"+o.getMinutes();H.innerHTML=n,m(a(s,r.firebasePath+"/humidity"),{clockMax:n})}l.innerHTML=e.temperature.min,d.innerHTML=e.temperature.max,p.innerHTML=e.humidity.min,f.innerHTML=e.humidity.max});I.addEventListener("click",()=>{document.body.classList.toggle("dark"),u.src.includes("moon.svg")?(u.src="assets/sun.svg",h.textContent="Light Mode"):(u.src="assets/moon.svg",h.textContent="Dark Mode")});
